<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mouthful of River - Open Source Documentary</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;700&display=swap');
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Manrope', sans-serif;
      background: #F8F7F2;
      color: #222;
    }
    a { color: #222; }
    button { font-family: inherit; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const contributionModules = [
      {
        id: 'rnd',
        phase: 'Research & Development',
        phaseBudget: '25%',
        phaseStatus: 'active',
        color: '#7dd3c0',
        description: 'Research, relationship-building, and early footage capture',
        modules: [
          {
            id: 'taiwan-rnd',
            title: 'Taiwan: Indigenous Water Relationships',
            description: 'Build relationships with Paiwan and Tayal communities and capture research footage. Document watershed kinship traditions, Lmuhuw songs, and the Digital Ministry\'s "Say Hi to River" program. Secure written participation agreements from all contributors. Deliver research footage, images, and academic sources.',
            stake: 5,
            status: 'open',
            type: 'Research + Footage',
            deliverables: ['Research footage & images from Taiwan', 'Written participation agreements', 'Ethical protocols document', 'Contact list with confirmed collaborators', 'Digital Ministry program documentation'],
          },
          {
            id: 'uk-rnd',
            title: 'UK: River Rights & Technology',
            description: 'Document the River Don Project and UK river rights movement. Capture research footage of hydrophone deployments, sensor installations, and early River Storyteller tests. Secure access and written agreements for filming council meetings and Superflux installations.',
            stake: 5,
            status: 'open',
            type: 'Research + Footage',
            deliverables: ['Research footage from Sheffield & River Roding', 'Written participation agreements', 'Council filming permissions', 'River Don Project documentation', 'Superflux collaboration agreement'],
          },
          {
            id: 'spain-rnd',
            title: 'Spain: Data Center Resistance',
            description: 'Connect with Tu Nube Seca Mi Rio and document the European anti-data-center movement. Capture research footage of early activist meetings and data center sites. Map similar conflicts across Europe. Secure written agreements from Aurora Gomez and key activists.',
            stake: 5,
            status: 'open',
            type: 'Research + Footage',
            deliverables: ['Research footage from Talavera & activist meetings', 'Written participation agreements', 'European data center conflict map', 'Spanish water rights legal context'],
          },
          {
            id: 'sound-rnd',
            title: 'Sound Approach & Early Recording',
            description: 'Define the sonic language of the film and begin capturing source material. Record initial hydrophone samples from multiple rivers. Research and select composer for generative score. Create a proof of concept demonstrating the generative soundtrack approach.',
            stake: 4,
            status: 'open',
            type: 'Sound + Research',
            deliverables: ['Proof of concept: generative soundtrack demo', 'Initial hydrophone recordings from multiple rivers', 'Composer agreement', 'Sound design concept document', 'Equipment & technique documentation'],
          },
          {
            id: 'script-rnd',
            title: 'Script & Structure Development',
            description: 'Develop the film\'s narrative architecture and AI narrator voice. Create detailed scene breakdowns following the river metaphor (source ‚Üí streams ‚Üí confluence ‚Üí delta). Write narrator drafts showing character arc from confident explainer to uncertain questioner. This is the creative backbone of the film.',
            stake: 6,
            status: 'open',
            type: 'Writing',
            deliverables: ['Scene-by-scene breakdown', 'AI narrator script drafts', 'Visual reference deck', 'Structure diagram', 'Treatment document'],
          },
        ]
      },
      {
        id: 'production',
        phase: 'Production',
        phaseBudget: '30%',
        phaseStatus: 'upcoming',
        color: '#5fb8a8',
        description: 'Principal photography across all locations',
        modules: [
          {
            id: 'taiwan-prod',
            title: 'Taiwan Principal Photography',
            description: 'Capture all footage for the film\'s opening and Taiwan thread. Film Paiwan water pipe systems and stone-borrowing ceremonies (with community consent). Document Fang-Raye\'s learning journey. Capture landscape, rituals, and intimate moments establishing watershed as kinship.',
            stake: 8,
            status: 'locked',
            type: 'Footage',
            deliverables: ['Paiwan ceremony footage', 'Water pipe system documentation', 'Fang-Raye Taiwan sequences', 'Landscape and ambient footage'],
            prerequisite: 'Taiwan R&D complete',
          },
          {
            id: 'uk-prod',
            title: 'UK Principal Photography',
            description: 'Capture the UK thread: scientists with hydrophones in the River Don, the underwater acoustic world, Fang-Raye\'s council meetings as river representative, River Storyteller community testing. Document both institutional dynamics and intimate human moments.',
            stake: 8,
            status: 'locked',
            type: 'Footage',
            deliverables: ['River Don hydrophone sequences', 'Council meeting observational footage', 'River Storyteller testing', 'Fang-Raye character arc footage'],
            prerequisite: 'UK R&D complete',
          },
          {
            id: 'spain-prod',
            title: 'Spain & Data Centers',
            description: 'Capture the resistance: Tu Nube Seca Mi Rio meetings, Aurora Gomez coordinating across Europe, fish-head mask protests at data center gates. Film data center exteriors‚Äîintake pipes, cooling towers, scale against landscape. Interior access if secured.',
            stake: 8,
            status: 'locked',
            type: 'Footage',
            deliverables: ['Activist meeting footage', 'Aurora Gomez sequences', 'Protest documentation', 'Data center footage (exterior + interior if possible)'],
            prerequisite: 'Spain R&D complete',
          },
          {
            id: 'installations-prod',
            title: 'Artistic Installations',
            description: 'Document artistic installations translating river data into form: Superflux robotic creatures, Marco Barotti\'s CLAMS sculptures, water-drop poetry generators. Artists with existing high-quality footage can contribute directly rather than requiring new shoots.',
            stake: 6,
            status: 'locked',
            type: 'Footage',
            deliverables: ['Superflux installation documentation', 'CLAMS sculpture footage', 'Other relevant art installations'],
            note: 'Artists can contribute existing footage',
            prerequisite: 'Artist agreements in place',
          },
        ]
      },
      {
        id: 'post',
        phase: 'Post-Production',
        phaseBudget: '30%',
        phaseStatus: 'future',
        color: '#3d9d8a',
        description: 'Editing, sound, music, and visual finishing',
        modules: [
          {
            id: 'edit',
            title: 'Editorial',
            description: 'Edit the film from assembly through fine cut. Shape the mosaic structure, weaving together Taiwan, UK, Spain, and artistic threads. Work with directors on pacing, narrator placement, and emotional arc. Deliver picture lock.',
            stake: 10,
            status: 'locked',
            type: 'Edit',
            deliverables: ['Assembly cut', 'Rough cut', 'Fine cut', 'Picture lock'],
            prerequisite: 'Principal photography complete',
          },
          {
            id: 'score',
            title: 'Hydrophone Score',
            description: 'Compose the film\'s evolving soundscape using hydrophone recordings as source material. Blend natural river sounds with processed, generative elements. Start in harmony, introduce discordant data center motifs, integrate into something new by the delta.',
            stake: 8,
            status: 'locked',
            type: 'Sound',
            deliverables: ['Full film score', 'Stems for sound mix', 'Source recording archive'],
            prerequisite: 'Rough cut complete',
          },
          {
            id: 'sound-post',
            title: 'Sound Design & Mix',
            description: 'Full sound design including data center hum, underwater ambience, environmental audio. Final mix for theatrical and broadcast delivery. Work with score composer on integration.',
            stake: 6,
            status: 'locked',
            type: 'Sound',
            deliverables: ['Sound design pass', 'Final mix (theatrical)', 'Final mix (broadcast)'],
            prerequisite: 'Score complete',
          },
          {
            id: 'visual-post',
            title: 'Visual Finishing',
            description: 'Color grade establishing visual continuity and aesthetic contrast between natural and industrial. Design and animate sensor data visualizations, spectrograms, AI processing sequences. Titles and credits.',
            stake: 6,
            status: 'locked',
            type: 'Edit',
            deliverables: ['Color grade', 'Data visualizations', 'Title sequence', 'End credits'],
            prerequisite: 'Picture lock',
          },
        ]
      },
      {
        id: 'distribution',
        phase: 'Distribution',
        phaseBudget: '15%',
        phaseStatus: 'future',
        color: '#c4a77d',
        description: 'Festival strategy, impact campaign, and audience reach',
        modules: [
          {
            id: 'festival',
            title: 'Festival Strategy & Delivery',
            description: 'Develop and execute festival strategy targeting environmental, technology, and documentary circuits. Prepare submission materials, coordinate premieres, manage festival relationships. Create DCP and required delivery formats.',
            stake: 5,
            status: 'locked',
            type: 'Distribution',
            deliverables: ['Festival strategy document', 'Submission materials', 'DCP', 'Premiere coordination'],
            prerequisite: 'Final film complete',
          },
          {
            id: 'impact',
            title: 'Impact Campaign',
            description: 'Design and execute impact campaign connecting the film to river rights movements, data center accountability efforts, and indigenous water sovereignty. Develop educational materials, organize community screenings, build activist partnerships.',
            stake: 5,
            status: 'locked',
            type: 'Distribution',
            deliverables: ['Impact strategy', 'Educational materials', 'Community screening toolkit', 'Partnership agreements'],
            prerequisite: 'Festival premiere',
          },
          {
            id: 'digital',
            title: 'Digital Distribution',
            description: 'Secure and manage digital distribution‚Äîstreaming platforms, educational licensing, international sales. Coordinate with sales agents, negotiate deals, manage deliverables and metadata.',
            stake: 5,
            status: 'locked',
            type: 'Distribution',
            deliverables: ['Distribution agreements', 'Platform deliverables', 'International sales coordination'],
            prerequisite: 'Festival run complete',
          },
        ]
      },
    ];

    const contributors = [
      { name: 'Leo Nelki', role: 'Co-Director', stake: 50, avatar: 'üé¨', contributions: [] },
      { name: 'Patricia Escheverrias Liras', role: 'Co-Director', stake: 50, avatar: 'üé•', contributions: [] },
    ];

    const proposedTasks = [];

    const typeIcons = {
      'Footage': 'üéûÔ∏è',
      'Sound': 'üéß',
      'Research': 'üìö',
      'Research + Footage': 'üéûÔ∏è',
      'Sound + Research': 'üéß',
      'Interview': 'üé§',
      'Edit': '‚úÇÔ∏è',
      'Writing': '‚úçÔ∏è',
      'Distribution': 'üì°',
    };

    const statusConfig = {
      'open': { label: 'Open for contribution', color: '#7dd3c0', bg: 'rgba(125, 211, 192, 0.15)' },
      'in-progress': { label: 'In progress', color: '#c4a77d', bg: 'rgba(196, 167, 125, 0.15)' },
      'locked': { label: 'Waiting for prerequisites', color: '#666', bg: 'rgba(100, 100, 100, 0.1)' },
      'complete': { label: 'Complete', color: '#4a9', bg: 'rgba(68, 170, 153, 0.15)' },
    };

    // Simple color palette from main site
    const colors = {
      bg: '#F8F7F2',
      text: '#222',
      textLight: '#666',
      accent: '#FDB813',
      accentBlue: '#00A8E8',
      border: '#222',
      borderLight: '#ddd',
    };

    function RiverFilmCollaborative() {
      const [view, setView] = React.useState('about');
      const [selectedModule, setSelectedModule] = React.useState(null);
      const [submissionStep, setSubmissionStep] = React.useState(0);
      const [showSuccess, setShowSuccess] = React.useState(false);
      const [expandedPhases, setExpandedPhases] = React.useState(['rnd']);

      const togglePhase = (phaseId) => {
        setExpandedPhases(prev =>
          prev.includes(phaseId) ? prev.filter(id => id !== phaseId) : [...prev, phaseId]
        );
      };

      const openModule = (module) => {
        setSelectedModule(module);
        setView('module-detail');
      };

      const startSubmission = () => {
        setView('submit');
        setSubmissionStep(0);
      };

      const nextStep = () => {
        if (submissionStep < 3) {
          setSubmissionStep(submissionStep + 1);
        } else {
          setShowSuccess(true);
          setTimeout(() => {
            setShowSuccess(false);
            setView('contributors');
          }, 2500);
        }
      };

      const backTo = (targetView) => {
        setView(targetView);
        setSelectedModule(null);
        setSubmissionStep(0);
      };

      const totalStake = contributors.reduce((sum, c) => sum + c.stake, 0);

      return (
        <div style={{ minHeight: '100vh', background: colors.bg, color: colors.text }}>

          {/* Header */}
          <header style={{
            padding: '1.25rem 2rem',
            borderBottom: `2px solid ${colors.border}`,
            position: 'sticky', top: 0,
            background: colors.bg,
            zIndex: 50,
          }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', maxWidth: '800px', margin: '0 auto' }}>
              <div style={{ cursor: 'pointer' }} onClick={() => setView('about')}>
                <h1 style={{ fontSize: '1.5rem', fontWeight: 700, margin: 0 }}>
                  Mouthful of River
                </h1>
                <p style={{ fontSize: '0.75rem', color: colors.textLight, margin: '0.1rem 0 0 0' }}>
                  Open-source documentary
                </p>
              </div>
              <nav style={{ display: 'flex', gap: '1.5rem' }}>
                {[
                  { id: 'about', label: 'About' },
                  { id: 'contribute', label: 'Contribute' },
                  { id: 'contributors', label: 'Stakes' },
                  { id: 'governance', label: 'Governance' },
                ].map(v => (
                  <button
                    key={v.id}
                    onClick={() => setView(v.id)}
                    style={{
                      background: 'none', border: 'none',
                      color: view === v.id || (v.id === 'contribute' && (view === 'module-detail' || view === 'submit'))
                        ? colors.text : colors.textLight,
                      fontSize: '0.9rem', cursor: 'pointer',
                      padding: '0.4rem 0',
                      fontWeight: view === v.id || (v.id === 'contribute' && (view === 'module-detail' || view === 'submit'))
                        ? 700 : 400,
                      borderBottom: view === v.id || (v.id === 'contribute' && (view === 'module-detail' || view === 'submit'))
                        ? `2px solid ${colors.accent}` : '2px solid transparent',
                    }}
                  >
                    {v.label}
                  </button>
                ))}
              </nav>
            </div>
          </header>

          {/* Main */}
          <main style={{ padding: '2rem', maxWidth: '800px', margin: '0 auto' }}>

            {/* ABOUT */}
            {view === 'about' && (
              <div>
                <h2 style={{ fontSize: '1.4rem', fontWeight: 700, lineHeight: 1.4, marginBottom: '1rem' }}>
                  AI gives rivers a voice‚Äîbut the data centers powering that voice threaten to drain them dry.
                </h2>

                <p style={{ fontSize: '1rem', lineHeight: 1.7, marginBottom: '1rem' }}>
                  <em>Mouthful of River</em> is a mosaic documentary following scientists, indigenous communities,
                  artists, and activists searching for ways to understand: what does the river truly want?
                </p>

                <p style={{ fontSize: '0.95rem', lineHeight: 1.7, color: colors.textLight, marginBottom: '2rem' }}>
                  From Paiwan communities in Taiwan who see watershed as kinship, to activists in Spain fighting
                  data center water consumption, to scientists lowering hydrophones into Sheffield's River Don‚Äîthe
                  film weaves together diverse ways of listening to and speaking for rivers.
                </p>

                <div style={{
                  borderLeft: `4px solid ${colors.accent}`,
                  padding: '1rem 1.25rem',
                  marginBottom: '2rem',
                  background: 'rgba(253, 184, 19, 0.08)',
                }}>
                  <h3 style={{ fontSize: '1rem', fontWeight: 700, marginBottom: '0.5rem' }}>
                    An open-source film
                  </h3>
                  <p style={{ fontSize: '0.9rem', lineHeight: 1.7, margin: '0 0 0.75rem 0' }}>
                    This film is being made through a new collaborative model. Anyone can contribute‚Äîfootage,
                    research, sound, editing, distribution. If your contribution is approved, you earn both
                    creative voting rights and a share of profits.
                  </p>
                  <p style={{ fontSize: '0.85rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                    All contributed material is licensed CC0‚Äîanyone can fork this project.
                  </p>
                </div>

                {/* Phase budget overview */}
                <div style={{
                  display: 'grid',
                  gridTemplateColumns: 'repeat(4, 1fr)',
                  gap: '2px',
                  background: colors.border,
                  marginBottom: '2rem',
                }}>
                  {contributionModules.map(phase => (
                    <div key={phase.id} style={{
                      padding: '0.75rem',
                      background: colors.bg,
                      textAlign: 'center',
                    }}>
                      <div style={{ fontSize: '1.25rem', fontWeight: 700 }}>{phase.phaseBudget}</div>
                      <div style={{ fontSize: '0.7rem', color: colors.textLight }}>{phase.phase}</div>
                    </div>
                  ))}
                </div>

                <div style={{ display: 'flex', gap: '2px', background: colors.border, marginBottom: '2rem' }}>
                  <div style={{ flex: 1, padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.9rem', fontWeight: 700, margin: '0 0 0.2rem 0' }}>Leo Nelki</h4>
                    <p style={{ fontSize: '0.8rem', color: colors.textLight, margin: 0 }}>Co-Director</p>
                  </div>
                  <div style={{ flex: 1, padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.9rem', fontWeight: 700, margin: '0 0 0.2rem 0' }}>Patricia Escheverrias Liras</h4>
                    <p style={{ fontSize: '0.8rem', color: colors.textLight, margin: 0 }}>Co-Director</p>
                  </div>
                </div>

                <button
                  onClick={() => setView('contribute')}
                  style={{
                    padding: '0.75rem 1.5rem',
                    background: colors.accent,
                    border: 'none',
                    color: colors.text,
                    fontSize: '0.95rem',
                    fontWeight: 700,
                    cursor: 'pointer',
                  }}
                >
                  See open contributions ‚Üí
                </button>
              </div>
            )}

            {/* CONTRIBUTE */}
            {view === 'contribute' && (
              <div>
                <h2 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.25rem' }}>
                  Contribution modules
                </h2>
                <p style={{ fontSize: '0.9rem', color: colors.textLight, marginBottom: '1.5rem', lineHeight: 1.6 }}>
                  Each module is a substantial piece of the film. Complete a module and earn your stake.
                </p>

                {contributionModules.map((phase) => (
                  <div key={phase.id} style={{ marginBottom: '1rem' }}>
                    <button
                      onClick={() => togglePhase(phase.id)}
                      style={{
                        width: '100%', display: 'flex', alignItems: 'center', gap: '0.75rem',
                        padding: '0.75rem 1rem',
                        background: colors.bg,
                        border: `2px solid ${colors.border}`,
                        cursor: 'pointer', textAlign: 'left',
                      }}
                    >
                      <div style={{ flex: 1 }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                          <h3 style={{ fontSize: '1rem', fontWeight: 700, margin: 0 }}>{phase.phase}</h3>
                          <span style={{ fontSize: '0.75rem', color: colors.textLight }}>({phase.phaseBudget})</span>
                        </div>
                        <p style={{ fontSize: '0.8rem', color: colors.textLight, margin: '0.1rem 0 0 0' }}>{phase.description}</p>
                      </div>
                      <span style={{
                        fontSize: '0.7rem', padding: '0.15rem 0.4rem',
                        background: phase.phaseStatus === 'active' ? colors.accent : '#eee',
                        fontWeight: 700,
                      }}>
                        {phase.phaseStatus === 'active' ? 'Active' : phase.phaseStatus === 'upcoming' ? 'Upcoming' : 'Future'}
                      </span>
                      <span style={{ color: colors.textLight }}>{expandedPhases.includes(phase.id) ? '‚àí' : '+'}</span>
                    </button>

                    {expandedPhases.includes(phase.id) && (
                      <div style={{ border: `2px solid ${colors.border}`, borderTop: 'none', padding: '0.75rem' }}>
                        <div style={{ display: 'grid', gap: '0.5rem' }}>
                          {phase.modules.map(module => (
                            <div
                              key={module.id}
                              onClick={() => module.status !== 'locked' && openModule(module)}
                              style={{
                                display: 'flex', gap: '1rem', alignItems: 'flex-start',
                                padding: '0.75rem',
                                background: module.status === 'locked' ? '#f0f0f0' : colors.bg,
                                border: `1px solid ${colors.borderLight}`,
                                cursor: module.status === 'locked' ? 'default' : 'pointer',
                                opacity: module.status === 'locked' ? 0.6 : 1,
                              }}
                            >
                              <div style={{ flex: 1 }}>
                                <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.25rem 0' }}>{module.title}</h4>
                                <p style={{ fontSize: '0.8rem', color: colors.textLight, margin: 0, lineHeight: 1.5 }}>
                                  {module.status === 'locked' && module.prerequisite
                                    ? `Waiting for: ${module.prerequisite}`
                                    : module.description.slice(0, 120) + '...'
                                  }
                                </p>
                              </div>
                              <div style={{ textAlign: 'right', minWidth: '50px' }}>
                                <div style={{ fontSize: '1.1rem', fontWeight: 700 }}>{module.stake}%</div>
                                <div style={{ fontSize: '0.65rem', color: colors.textLight }}>stake</div>
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                ))}
              </div>
            )}

            {/* MODULE DETAIL */}
            {view === 'module-detail' && selectedModule && (
              <div>
                <button onClick={() => backTo('contribute')} style={{ background: 'none', border: 'none', color: colors.textLight, fontSize: '0.85rem', cursor: 'pointer', marginBottom: '1rem', padding: 0 }}>
                  ‚Üê Back to modules
                </button>

                <div style={{ border: `2px solid ${colors.border}`, padding: '1.5rem' }}>
                  <div style={{ fontSize: '0.75rem', color: colors.textLight, marginBottom: '0.5rem' }}>
                    {selectedModule.type}
                  </div>

                  <h2 style={{ fontSize: '1.3rem', fontWeight: 700, margin: '0 0 1rem 0', lineHeight: 1.3 }}>
                    {selectedModule.title}
                  </h2>

                  <p style={{ fontSize: '0.95rem', lineHeight: 1.7, marginBottom: '1.5rem' }}>
                    {selectedModule.description}
                  </p>

                  {selectedModule.deliverables && (
                    <div style={{ marginBottom: '1.5rem' }}>
                      <h4 style={{ fontSize: '0.8rem', fontWeight: 700, margin: '0 0 0.5rem 0' }}>
                        Required deliverables
                      </h4>
                      <ul style={{ margin: 0, padding: '0 0 0 1.25rem', fontSize: '0.9rem', lineHeight: 1.7 }}>
                        {selectedModule.deliverables.map((d, i) => <li key={i}>{d}</li>)}
                      </ul>
                    </div>
                  )}

                  <div style={{
                    background: 'rgba(253, 184, 19, 0.1)',
                    padding: '1rem',
                    marginBottom: '1.5rem',
                  }}>
                    <h4 style={{ fontSize: '0.75rem', fontWeight: 700, margin: '0 0 0.75rem 0' }}>
                      What you'll earn if approved
                    </h4>
                    <div style={{ display: 'flex', gap: '2rem' }}>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>{selectedModule.stake}%</div>
                        <div style={{ fontSize: '0.75rem', color: colors.textLight }}>Voting stake</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>{selectedModule.stake}%</div>
                        <div style={{ fontSize: '0.75rem', color: colors.textLight }}>Profit share</div>
                      </div>
                      <div>
                        <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>‚úì</div>
                        <div style={{ fontSize: '0.75rem', color: colors.textLight }}>Film credit</div>
                      </div>
                    </div>
                  </div>

                  <button
                    onClick={startSubmission}
                    style={{
                      width: '100%', padding: '0.75rem',
                      background: colors.accent,
                      border: 'none',
                      color: colors.text, fontSize: '0.95rem', fontWeight: 700, cursor: 'pointer',
                    }}
                  >
                    Submit my contribution
                  </button>
                </div>
              </div>
            )}

            {/* SUBMISSION FLOW */}
            {view === 'submit' && selectedModule && (
              <div>
                <button onClick={() => setView('module-detail')} style={{ background: 'none', border: 'none', color: colors.textLight, fontSize: '0.85rem', cursor: 'pointer', marginBottom: '1rem', padding: 0 }}>
                  ‚Üê Back
                </button>

                <div style={{ display: 'flex', gap: '0.25rem', marginBottom: '1.5rem' }}>
                  {[0, 1, 2, 3].map(step => (
                    <div key={step} style={{
                      flex: step <= submissionStep ? 2 : 1,
                      height: '4px',
                      background: step <= submissionStep ? colors.accent : '#ddd',
                    }} />
                  ))}
                </div>

                <div style={{ border: `2px solid ${colors.border}`, padding: '1.5rem', minHeight: '250px' }}>
                  {submissionStep === 0 && (
                    <div>
                      <h3 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.5rem' }}>Upload your files</h3>
                      <p style={{ fontSize: '0.9rem', color: colors.textLight, marginBottom: '1rem' }}>
                        Upload all materials for "{selectedModule.title}"
                      </p>
                      <div style={{
                        border: `2px dashed ${colors.borderLight}`,
                        padding: '2rem', textAlign: 'center',
                      }}>
                        <div style={{ fontSize: '0.9rem' }}>your_contribution.zip</div>
                        <div style={{ fontSize: '0.8rem', color: colors.textLight, marginTop: '0.25rem' }}>2.4 GB uploaded</div>
                      </div>
                    </div>
                  )}

                  {submissionStep === 1 && (
                    <div>
                      <h3 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.5rem' }}>Describe your contribution</h3>
                      <p style={{ fontSize: '0.9rem', color: colors.textLight, marginBottom: '1rem' }}>
                        Help stakeholders understand what you've created.
                      </p>
                      <textarea
                        placeholder="Describe your work..."
                        style={{
                          width: '100%', height: '120px',
                          background: colors.bg,
                          border: `1px solid ${colors.borderLight}`,
                          padding: '0.75rem',
                          color: colors.text, fontSize: '0.9rem', fontFamily: 'inherit', resize: 'none',
                        }}
                      />
                    </div>
                  )}

                  {submissionStep === 2 && (
                    <div>
                      <h3 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.75rem' }}>Confirm terms</h3>
                      <div style={{ background: 'rgba(253, 184, 19, 0.1)', padding: '1rem' }}>
                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>
                          <span style={{ fontSize: '0.9rem' }}>Stake if approved</span>
                          <span style={{ fontWeight: 700 }}>{selectedModule.stake}%</span>
                        </div>
                        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>
                          <span style={{ fontSize: '0.9rem' }}>License</span>
                          <span style={{ fontWeight: 700 }}>CC0</span>
                        </div>
                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                          <span style={{ fontSize: '0.9rem' }}>Film credit</span>
                          <span style={{ fontWeight: 700 }}>‚úì</span>
                        </div>
                      </div>
                      <p style={{ fontSize: '0.8rem', color: colors.textLight, marginTop: '0.75rem', lineHeight: 1.6 }}>
                        By submitting, you agree to license your contribution CC0.
                      </p>
                    </div>
                  )}

                  {submissionStep === 3 && (
                    <div>
                      <h3 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.5rem' }}>Submit for approval</h3>
                      <p style={{ fontSize: '0.9rem', color: colors.textLight, marginBottom: '1rem' }}>
                        Current stakeholders will vote on your submission.
                      </p>
                      <div style={{ padding: '0.75rem', background: '#f5f5f5' }}>
                        <div style={{ fontSize: '0.9rem' }}>{contributors.length} current stakeholders</div>
                        <div style={{ fontSize: '0.8rem', color: colors.textLight }}>Voting weighted by stake</div>
                      </div>
                    </div>
                  )}

                  <button onClick={nextStep} style={{
                    width: '100%', padding: '0.75rem', marginTop: '1.5rem',
                    background: colors.accent,
                    border: 'none',
                    color: colors.text, fontSize: '0.95rem', fontWeight: 700, cursor: 'pointer',
                  }}>
                    {submissionStep === 3 ? 'Submit for review' : 'Continue'}
                  </button>
                </div>
              </div>
            )}

            {/* SUCCESS */}
            {showSuccess && (
              <div style={{
                position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,
                background: 'rgba(248, 247, 242, 0.98)',
                display: 'flex', alignItems: 'center', justifyContent: 'center',
                zIndex: 100,
              }}>
                <div style={{ textAlign: 'center' }}>
                  <h2 style={{ fontSize: '1.3rem', fontWeight: 700 }}>Submission received!</h2>
                  <p style={{ color: colors.textLight, marginTop: '0.25rem', fontSize: '0.9rem' }}>Stakeholders are reviewing...</p>
                </div>
              </div>
            )}

            {/* CONTRIBUTORS / STAKES */}
            {view === 'contributors' && (
              <div>
                <h2 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '0.25rem' }}>
                  Current stakes
                </h2>
                <p style={{ fontSize: '0.9rem', color: colors.textLight, marginBottom: '1.5rem', lineHeight: 1.6 }}>
                  Stake determines voting power and profit share.
                </p>

                {/* Stake bar */}
                <div style={{
                  display: 'flex', height: '32px', overflow: 'hidden',
                  marginBottom: '1.5rem', border: `2px solid ${colors.border}`,
                }}>
                  {contributors.map((c, i) => (
                    <div
                      key={c.name}
                      style={{
                        width: `${(c.stake / totalStake) * 100}%`,
                        background: i === 0 ? colors.accent : '#e0c370',
                        display: 'flex', alignItems: 'center', justifyContent: 'center',
                        borderRight: i < contributors.length - 1 ? `2px solid ${colors.border}` : 'none',
                        fontSize: '0.85rem',
                        fontWeight: 700,
                      }}
                      title={`${c.name}: ${c.stake}%`}
                    >
                      {c.stake}%
                    </div>
                  ))}
                </div>

                {/* Contributors list */}
                <div style={{ display: 'grid', gap: '2px', background: colors.border }}>
                  {contributors.map((c) => (
                    <div
                      key={c.name}
                      style={{
                        display: 'flex', alignItems: 'center', gap: '1rem',
                        padding: '0.75rem 1rem',
                        background: colors.bg,
                      }}
                    >
                      <div style={{ flex: 1 }}>
                        <div style={{ fontSize: '0.95rem', fontWeight: 700 }}>{c.name}</div>
                        <div style={{ fontSize: '0.8rem', color: colors.textLight }}>{c.role}</div>
                      </div>
                      <div style={{ fontSize: '1.1rem', fontWeight: 700 }}>{c.stake}%</div>
                    </div>
                  ))}
                </div>

                {/* Available stake */}
                <div style={{
                  marginTop: '1.5rem', padding: '1rem',
                  background: 'rgba(253, 184, 19, 0.1)',
                }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                    <div>
                      <h4 style={{ fontSize: '0.9rem', fontWeight: 700, margin: 0 }}>Available stake</h4>
                      <p style={{ fontSize: '0.8rem', color: colors.textLight, margin: '0.1rem 0 0 0' }}>
                        Distributed as contributions are approved
                      </p>
                    </div>
                    <div style={{ fontSize: '1.25rem', fontWeight: 700 }}>0%</div>
                  </div>
                </div>

                {/* Live contract note */}
                <div style={{ marginTop: '1rem', padding: '1rem', border: `1px solid ${colors.borderLight}` }}>
                  <h4 style={{ fontSize: '0.85rem', fontWeight: 700, margin: '0 0 0.25rem 0' }}>Live contract</h4>
                  <p style={{ fontSize: '0.85rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                    This stake distribution is automatically maintained. A legally signed version is generated quarterly.
                  </p>
                </div>
              </div>
            )}

            {/* GOVERNANCE */}
            {view === 'governance' && (
              <div>
                <h2 style={{ fontSize: '1.1rem', fontWeight: 700, marginBottom: '1.5rem' }}>
                  How decisions are made
                </h2>

                <div style={{ display: 'grid', gap: '2px', background: colors.border }}>
                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Voting power</h4>
                    <p style={{ fontSize: '0.9rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                      <strong style={{ color: colors.text }}>Stake = voting share.</strong> If you hold 10% stake, your vote counts for 10% of the total.
                    </p>
                  </div>

                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Approving contributions</h4>
                    <p style={{ fontSize: '0.9rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                      When you submit a contribution, all current stakeholders vote. Approval requires <strong style={{ color: colors.text }}>majority stake</strong>.
                    </p>
                  </div>

                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Adding new modules</h4>
                    <p style={{ fontSize: '0.9rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                      Small modules (‚â§2% stake) can be added by <strong style={{ color: colors.text }}>any stakeholder holding 10%+</strong>. Larger modules require a vote.
                    </p>
                  </div>

                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Licensing & forking</h4>
                    <p style={{ fontSize: '0.9rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                      All contributed material is licensed <strong style={{ color: colors.text }}>CC0</strong>. Anyone can fork this project with credit.
                    </p>
                  </div>

                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Profit distribution</h4>
                    <p style={{ fontSize: '0.9rem', lineHeight: 1.6, color: colors.textLight, margin: 0 }}>
                      Stake represents your share of the <strong style={{ color: colors.text }}>contributor pool</strong>. Profits are distributed by stake.
                    </p>
                  </div>

                  <div style={{ padding: '1rem', background: colors.bg }}>
                    <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.4rem 0' }}>Phase budgets</h4>
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.25rem', marginTop: '0.5rem' }}>
                      {contributionModules.map(phase => (
                        <div key={phase.id} style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.85rem' }}>
                          <span style={{ color: colors.textLight }}>{phase.phase}</span>
                          <span style={{ fontWeight: 700 }}>{phase.phaseBudget}</span>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>

                {/* Proposed tasks */}
                {proposedTasks.length > 0 && (
                  <div style={{ marginTop: '2rem' }}>
                    <h3 style={{ fontSize: '1rem', fontWeight: 700, marginBottom: '0.75rem' }}>Proposed new modules</h3>
                    {proposedTasks.map(task => (
                      <div key={task.id} style={{ padding: '1rem', border: `1px solid ${colors.borderLight}`, marginBottom: '0.5rem' }}>
                        <h4 style={{ fontSize: '0.95rem', fontWeight: 700, margin: '0 0 0.25rem 0' }}>{task.title}</h4>
                        <p style={{ fontSize: '0.85rem', color: colors.textLight, margin: '0 0 0.5rem 0' }}>{task.description}</p>
                        <div style={{ display: 'flex', gap: '0.5rem' }}>
                          <button style={{ padding: '0.3rem 0.75rem', background: colors.accent, border: 'none', fontWeight: 700, fontSize: '0.8rem', cursor: 'pointer' }}>
                            Approve ({task.votesFor}%)
                          </button>
                          <button style={{ padding: '0.3rem 0.75rem', background: '#eee', border: 'none', fontSize: '0.8rem', cursor: 'pointer' }}>
                            Reject
                          </button>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </div>
            )}
          </main>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<RiverFilmCollaborative />);
  </script>
</body>
</html>
